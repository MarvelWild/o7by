(function(a){if(typeof define==="function"&&define.amd){define(["./blueimp-helper","./blueimp-gallery"],a)}else{a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}})(function(c,h){var g=h.prototype;c.extend(g.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:true});var b=g.initSlides;var i=g.addSlide;var d=g.resetSlides;var f=g.handleClick;var a=g.handleSlide;var e=g.handleClose;c.extend(g,{createIndicator:function(m){var k=this.indicatorPrototype.cloneNode(false);var n=this.getItemProperty(m,this.options.titleProperty);var j=this.options.thumbnailProperty;var l;var o;if(this.options.thumbnailIndicators){if(j){l=this.getItemProperty(m,j)}if(l===undefined){o=m.getElementsByTagName&&c(m).find("img")[0];if(o){l=o.src}}if(l){k.style.backgroundImage='url("'+l+'")'}}if(n){k.title=n}k.setAttribute("role","link");return k},addIndicator:function(k){if(this.indicatorContainer.length){var j=this.createIndicator(this.list[k]);j.setAttribute("data-index",k);this.indicatorContainer[0].appendChild(j);this.indicators.push(j)}},setActiveIndicator:function(j){if(this.indicators){if(this.activeIndicator){this.activeIndicator.removeClass(this.options.activeIndicatorClass)}this.activeIndicator=c(this.indicators[j]);this.activeIndicator.addClass(this.options.activeIndicatorClass)}},initSlides:function(j){if(!j){this.indicatorContainer=this.container.find(this.options.indicatorContainer);if(this.indicatorContainer.length){this.indicatorPrototype=document.createElement("li");this.indicators=this.indicatorContainer[0].children}}b.call(this,j)},addSlide:function(j){i.call(this,j);this.addIndicator(j)},resetSlides:function(){d.call(this);this.indicatorContainer.empty();this.indicators=[]},handleClick:function(k){var l=k.target||k.srcElement;var j=l.parentNode;if(j===this.indicatorContainer[0]){this.preventDefault(k);this.slide(this.getNodeIndex(l))}else{if(j.parentNode===this.indicatorContainer[0]){this.preventDefault(k);this.slide(this.getNodeIndex(j))}else{return f.call(this,k)}}},handleSlide:function(k,j){a.call(this,k,j);this.setActiveIndicator(j)},handleClose:function(){if(this.activeIndicator){this.activeIndicator.removeClass(this.options.activeIndicatorClass)}e.call(this)}});return h});