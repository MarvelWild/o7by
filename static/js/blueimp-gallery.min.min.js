(function(b){if(typeof define==="function"&&define.amd){define(["./blueimp-helper"],b)}else{window.blueimp=window.blueimp||{};window.blueimp.Gallery=b(window.blueimp.helper||window.jQuery)}})(function(d){function c(a,b){if(document.body.style.maxHeight===undefined){return null}if(!this||this.options!==c.prototype.options){return new c(a,b)}if(!a||!a.length){this.console.log("blueimp Gallery: No or empty list provided as first argument.",a);return}this.list=a;this.num=a.length;this.initOptions(b);this.initialize()}d.extend(c.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",svgasimgClass:"blueimp-gallery-svgasimg",smilClass:"blueimp-gallery-smil",slideClass:"slide",slideActiveClass:"slide-active",slidePrevClass:"slide-prev",slideNextClass:"slide-next",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",altTextProperty:"alt",urlProperty:"href",srcsetProperty:"srcset",sizesProperty:"sizes",sourcesProperty:"sources",displayTransition:true,clearSlides:true,toggleControlsOnEnter:true,toggleControlsOnSlideClick:true,toggleSlideshowOnSpace:true,enableKeyboardNavigation:true,closeOnEscape:true,closeOnSlideClick:true,closeOnSwipeUpOrDown:true,closeOnHashChange:true,emulateTouchEvents:true,stopTouchEventsPropagation:false,hidePageScrollbars:true,disableScroll:true,carousel:false,continuous:true,unloadElements:true,startSlideshow:false,slideshowInterval:5000,slideshowDirection:"ltr",index:0,preloadRange:2,transitionDuration:300,slideshowTransitionDuration:500,event:undefined,onopen:undefined,onopened:undefined,onslide:undefined,onslideend:undefined,onslidecomplete:undefined,onclose:undefined,onclosed:undefined},carouselOptions:{hidePageScrollbars:false,toggleControlsOnEnter:false,toggleSlideshowOnSpace:false,enableKeyboardNavigation:false,closeOnEscape:false,closeOnSlideClick:false,closeOnSwipeUpOrDown:false,closeOnHashChange:false,disableScroll:false,startSlideshow:true},console:window.console&&typeof window.console.log==="function"?window.console:{log:function(){}},support:(function(j){var i={source:!!window.HTMLSourceElement,picture:!!window.HTMLPictureElement,svgasimg:document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),smil:!!document.createElementNS&&/SVGAnimate/.test(document.createElementNS("http://www.w3.org/2000/svg","animate").toString()),touch:window.ontouchstart!==undefined||(window.DocumentTouch&&document instanceof DocumentTouch)};var b={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};var a;for(a in b){if(Object.prototype.hasOwnProperty.call(b,a)&&j.style[a]!==undefined){i.transition=b[a];i.transition.name=a;break}}function h(){var f=i.transition;var e;var g;document.body.appendChild(j);if(f){e=f.name.slice(0,-9)+"ransform";if(j.style[e]!==undefined){j.style[e]="translateZ(0)";g=window.getComputedStyle(j).getPropertyValue(f.prefix+"transform");i.transform={prefix:f.prefix,name:e,translate:true,translateZ:!!g&&g!=="none"}}}document.body.removeChild(j)}if(document.body){h()}else{d(document).on("DOMContentLoaded",h)}return i})(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame,initialize:function(){this.initStartIndex();if(this.initWidget()===false){return false}this.initEventListeners();this.onslide(this.index);this.ontransitionend();if(this.options.startSlideshow){this.play()}},slide:function(a,i){window.clearTimeout(this.timeout);var l=this.index;var j;var b;var k;if(l===a||this.num===1){return}if(!i){i=this.options.transitionDuration}if(this.support.transform){if(!this.options.continuous){a=this.circle(a)}j=Math.abs(l-a)/(l-a);if(this.options.continuous){b=j;j=-this.positions[this.circle(a)]/this.slideWidth;if(j!==b){a=-j*this.num+a}}k=Math.abs(l-a)-1;while(k){k-=1;this.move(this.circle((a>l?a:l)-k-1),this.slideWidth*j,0)}a=this.circle(a);this.move(l,this.slideWidth*j,i);this.move(a,0,i);if(this.options.continuous){this.move(this.circle(a-j),-(this.slideWidth*j),0)}}else{a=this.circle(a);this.animate(l*-this.slideWidth,a*-this.slideWidth,i)}this.onslide(a)},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){if(this.options.continuous||this.index){this.slide(this.index-1)}},next:function(){if(this.options.continuous||this.index<this.num-1){this.slide(this.index+1)}},play:function(a){var b=this;var f=this.index+(this.options.slideshowDirection==="rtl"?-1:1);window.clearTimeout(this.timeout);this.interval=a||this.options.slideshowInterval;if(this.elements[this.index]>1){this.timeout=this.setTimeout((!this.requestAnimationFrame&&this.slide)||function(e,h){b.animationFrameId=b.requestAnimationFrame.call(window,function(){b.slide(e,h)})},[f,this.options.slideshowTransitionDuration],this.interval)}this.container.addClass(this.options.playingClass);this.slidesContainer[0].setAttribute("aria-live","off");if(this.playPauseElement.length){this.playPauseElement[0].setAttribute("aria-pressed","true")}},pause:function(){window.clearTimeout(this.timeout);this.interval=null;if(this.cancelAnimationFrame){this.cancelAnimationFrame.call(window,this.animationFrameId);this.animationFrameId=null}this.container.removeClass(this.options.playingClass);this.slidesContainer[0].setAttribute("aria-live","polite");if(this.playPauseElement.length){this.playPauseElement[0].setAttribute("aria-pressed","false")}},add:function(a){var b;if(!a.concat){a=Array.prototype.slice.call(a)}if(!this.list.concat){this.list=Array.prototype.slice.call(this.list)}this.list=this.list.concat(a);this.num=this.list.length;if(this.num>2&&this.options.continuous===null){this.options.continuous=true;this.container.removeClass(this.options.leftEdgeClass)}this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass);for(b=this.num-a.length;b<this.num;b+=1){this.addSlide(b);this.positionSlide(b)}this.positions.length=this.num;this.initSlides(true)},resetSlides:function(){this.slidesContainer.empty();this.unloadAllSlides();this.slides=[]},handleClose:function(){var a=this.options;this.destroyEventListeners();this.pause();this.container[0].style.display="none";this.container.removeClass(a.displayClass).removeClass(a.singleClass).removeClass(a.leftEdgeClass).removeClass(a.rightEdgeClass);if(a.hidePageScrollbars){document.body.style.overflow=this.bodyOverflowStyle}if(this.options.clearSlides){this.resetSlides()}if(this.options.onclosed){this.options.onclosed.call(this)}},close:function(){var a=this;function b(f){if(f.target===a.container[0]){a.container.off(a.support.transition.end,b);a.handleClose()}}if(this.options.onclose){this.options.onclose.call(this)}if(this.support.transition&&this.options.displayTransition){this.container.on(this.support.transition.end,b);this.container.removeClass(this.options.displayClass)}else{this.handleClose()}},circle:function(a){return(this.num+(a%this.num))%this.num},move:function(f,a,b){this.translateX(f,a,b);this.positions[f]=a},translate:function(l,n,a,j){if(!this.slides[l]){return}var k=this.slides[l].style;var b=this.support.transition;var m=this.support.transform;k[b.name+"Duration"]=j+"ms";k[m.name]="translate("+n+"px, "+a+"px)"+(m.translateZ?" translateZ(0)":"")},translateX:function(b,f,a){this.translate(b,f,0,a)},translateY:function(f,a,b){this.translate(f,0,a,b)},animate:function(a,b,k){if(!k){this.slidesContainer[0].style.left=b+"px";return}var l=this;var i=new Date().getTime();var j=window.setInterval(function(){var e=new Date().getTime()-i;if(e>k){l.slidesContainer[0].style.left=b+"px";l.ontransitionend();window.clearInterval(j);return}l.slidesContainer[0].style.left=(b-a)*(Math.floor((e/k)*100)/100)+a+"px"},4)},preventDefault:function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}},stopPropagation:function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}},onresize:function(){this.initSlides(true)},onhashchange:function(){if(this.options.closeOnHashChange){this.close()}},onmousedown:function(a){if(a.which&&a.which===1&&a.target.nodeName!=="VIDEO"&&a.target.nodeName!=="AUDIO"){a.preventDefault();(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}];this.ontouchstart(a)}},onmousemove:function(a){if(this.touchStart){(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}];this.ontouchmove(a)}},onmouseup:function(a){if(this.touchStart){this.ontouchend(a);delete this.touchStart}},onmouseout:function(f){if(this.touchStart){var a=f.target;var b=f.relatedTarget;if(!b||(b!==a&&!d.contains(a,b))){this.onmouseup(f)}}},ontouchstart:function(b){if(this.options.stopTouchEventsPropagation){this.stopPropagation(b)}var a=(b.originalEvent||b).touches[0];this.touchStart={x:a.pageX,y:a.pageY,time:Date.now()};this.isScrolling=undefined;this.touchDelta={}},ontouchmove:function(l){if(this.options.stopTouchEventsPropagation){this.stopPropagation(l)}var k=(l.originalEvent||l).touches;var a=k[0];var b=(l.originalEvent||l).scale;var m=this.index;var n;var j;if(k.length>1||(b&&b!==1)){return}if(this.options.disableScroll){l.preventDefault()}this.touchDelta={x:a.pageX-this.touchStart.x,y:a.pageY-this.touchStart.y};n=this.touchDelta.x;if(this.isScrolling===undefined){this.isScrolling=this.isScrolling||Math.abs(n)<Math.abs(this.touchDelta.y)}if(!this.isScrolling){l.preventDefault();window.clearTimeout(this.timeout);if(this.options.continuous){j=[this.circle(m+1),m,this.circle(m-1)]}else{this.touchDelta.x=n=n/((!m&&n>0)||(m===this.num-1&&n<0)?Math.abs(n)/this.slideWidth+1:1);j=[m];if(m){j.push(m-1)}if(m<this.num-1){j.unshift(m+1)}}while(j.length){m=j.pop();this.translateX(m,n+this.positions[m],0)}}else{if(!this.options.carousel){this.translateY(m,this.touchDelta.y+this.positions[m],0)}}},ontouchend:function(z){if(this.options.stopTouchEventsPropagation){this.stopPropagation(z)}var t=this.index;var r=Math.abs(this.touchDelta.x);var x=this.slideWidth;var w=Math.ceil((this.options.transitionDuration*(1-r/x))/2);var u=r>20;var y=(!t&&this.touchDelta.x>0)||(t===this.num-1&&this.touchDelta.x<0);var a=!u&&this.options.closeOnSwipeUpOrDown&&Math.abs(this.touchDelta.y)>20;var q;var v;var b;var s;var p;if(this.options.continuous){y=false}q=this.touchDelta.x<0?-1:1;if(!this.isScrolling){if(u&&!y){v=t+q;b=t-q;s=x*q;p=-x*q;if(this.options.continuous){this.move(this.circle(v),s,0);this.move(this.circle(t-2*q),p,0)}else{if(v>=0&&v<this.num){this.move(v,s,0)}}this.move(t,this.positions[t]+s,w);this.move(this.circle(b),this.positions[this.circle(b)]+s,w);t=this.circle(b);this.onslide(t)}else{if(this.options.continuous){this.move(this.circle(t-1),-x,w);this.move(t,0,w);this.move(this.circle(t+1),x,w)}else{if(t){this.move(t-1,-x,w)}this.move(t,0,w);if(t<this.num-1){this.move(t+1,x,w)}}}}else{if(a){this.close()}else{this.translateY(t,0,w)}}},ontouchcancel:function(a){if(this.touchStart){this.ontouchend(a);delete this.touchStart}},ontransitionend:function(a){var b=this.slides[this.index];if(!a||b===a.target){if(this.interval){this.play()}this.setTimeout(this.options.onslideend,[this.index,b])}},oncomplete:function(b){var a=b.target||b.srcElement;var g=a&&a.parentNode;var h;if(!a||!g){return}h=this.getNodeIndex(g);d(g).removeClass(this.options.slideLoadingClass);if(b.type==="error"){d(g).addClass(this.options.slideErrorClass);this.elements[h]=3}else{this.elements[h]=2}if(a.clientHeight>this.container[0].clientHeight){a.style.maxHeight=this.container[0].clientHeight}if(this.interval&&this.slides[this.index]===g){this.play()}this.setTimeout(this.options.onslidecomplete,[h,g])},onload:function(a){this.oncomplete(a)},onerror:function(a){this.oncomplete(a)},onkeydown:function(a){switch(a.which||a.keyCode){case 13:if(this.options.toggleControlsOnEnter){this.preventDefault(a);this.toggleControls()}break;case 27:if(this.options.closeOnEscape){this.close();a.stopImmediatePropagation()}break;case 32:if(this.options.toggleSlideshowOnSpace){this.preventDefault(a);this.toggleSlideshow()}break;case 37:if(this.options.enableKeyboardNavigation){this.preventDefault(a);this.prev()}break;case 39:if(this.options.enableKeyboardNavigation){this.preventDefault(a);this.next()}break}},handleClick:function(b){var j=this.options;var a=b.target||b.srcElement;var h=a.parentNode;function i(e){return d(a).hasClass(e)||d(h).hasClass(e)}if(i(j.toggleClass)){this.preventDefault(b);this.toggleControls()}else{if(i(j.prevClass)){this.preventDefault(b);this.prev()}else{if(i(j.nextClass)){this.preventDefault(b);this.next()}else{if(i(j.closeClass)){this.preventDefault(b);this.close()}else{if(i(j.playPauseClass)){this.preventDefault(b);this.toggleSlideshow()}else{if(h===this.slidesContainer[0]){if(j.closeOnSlideClick){this.preventDefault(b);this.close()}else{if(j.toggleControlsOnSlideClick){this.preventDefault(b);this.toggleControls()}}}else{if(h.parentNode&&h.parentNode===this.slidesContainer[0]){if(j.toggleControlsOnSlideClick){this.preventDefault(b);this.toggleControls()}}}}}}}}},onclick:function(a){if(this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)){delete this.touchDelta;return}return this.handleClick(a)},updateEdgeClasses:function(a){if(!a){this.container.addClass(this.options.leftEdgeClass)}else{this.container.removeClass(this.options.leftEdgeClass)}if(a===this.num-1){this.container.addClass(this.options.rightEdgeClass)}else{this.container.removeClass(this.options.rightEdgeClass)}},updateActiveSlide:function(a,l){var k=this.slides;var m=this.options;var b=[{index:l,method:"addClass",hidden:false},{index:a,method:"removeClass",hidden:true}];var j,n;while(b.length){j=b.pop();d(k[j.index])[j.method](m.slideActiveClass);n=this.circle(j.index-1);if(m.continuous||n<j.index){d(k[n])[j.method](m.slidePrevClass)}n=this.circle(j.index+1);if(m.continuous||n>j.index){d(k[n])[j.method](m.slideNextClass)}}this.slides[a].setAttribute("aria-hidden","true");this.slides[l].removeAttribute("aria-hidden")},handleSlide:function(a,b){if(!this.options.continuous){this.updateEdgeClasses(b)}this.updateActiveSlide(a,b);this.loadElements(b);if(this.options.unloadElements){this.unloadElements(a,b)}this.setTitle(b)},onslide:function(a){this.handleSlide(this.index,a);this.index=a;this.setTimeout(this.options.onslide,[a,this.slides[a]])},setTitle:function(h){var b=this.slides[h].firstChild;var a=b.title||b.alt;var g=this.titleElement;if(g.length){this.titleElement.empty();if(a){g[0].appendChild(document.createTextNode(a))}}},setTimeout:function(b,h,a){var g=this;return(b&&window.setTimeout(function(){b.apply(g,h||[])},a||0))},imageFactory:function(y,i){var a=this.options;var v=this;var C=y;var w=this.imagePrototype.cloneNode(false);var x;var t;var D;var A;var b;var u;var s;var z;function B(e){if(!t){e={type:e.type,target:x||w};if(!e.target.parentNode){return v.setTimeout(B,[e])}t=true;d(w).off("load error",B);i(e)}}if(typeof C!=="string"){C=this.getItemProperty(y,a.urlProperty);D=this.support.picture&&this.support.source&&this.getItemProperty(y,a.sourcesProperty);A=this.getItemProperty(y,a.srcsetProperty);b=this.getItemProperty(y,a.sizesProperty);u=this.getItemProperty(y,a.titleProperty);s=this.getItemProperty(y,a.altTextProperty)||u}w.draggable=false;if(u){w.title=u}if(s){w.alt=s}d(w).on("load error",B);if(D&&D.length){x=this.picturePrototype.cloneNode(false);for(z=0;z<D.length;z+=1){x.appendChild(d.extend(this.sourcePrototype.cloneNode(false),D[z]))}x.appendChild(w);d(x).addClass(a.toggleClass)}if(A){if(b){w.sizes=b}w.srcset=A}w.src=C;if(x){return x}return w},createElement:function(b,a){var h=b&&this.getItemProperty(b,this.options.typeProperty);var j=(h&&this[h.split("/")[0]+"Factory"])||this.imageFactory;var i=b&&j.call(this,b,a);if(!i){i=this.elementPrototype.cloneNode(false);this.setTimeout(a,[{type:"error",target:i}])}d(i).addClass(this.options.slideContentClass);return i},iteratePreloadRange:function(i,a){var j=this.num;var l=this.options;var n=Math.min(j,l.preloadRange*2+1);var m=i;var b;for(b=0;b<n;b+=1){m+=b*(b%2===0?-1:1);if(m<0||m>=j){if(!l.continuous){continue}m=this.circle(m)}a.call(this,m)}},loadElement:function(a){if(!this.elements[a]){if(this.slides[a].firstChild){this.elements[a]=d(this.slides[a]).hasClass(this.options.slideErrorClass)?3:2}else{this.elements[a]=1;d(this.slides[a]).addClass(this.options.slideLoadingClass);this.slides[a].appendChild(this.createElement(this.list[a],this.proxyListener))}}},loadElements:function(a){this.iteratePreloadRange(a,this.loadElement)},unloadElements:function(a,b){var f=this.options.preloadRange;this.iteratePreloadRange(a,function(h){var e=Math.abs(h-b);if(e>f&&e+f<this.num){this.unloadSlide(h);delete this.elements[h]}})},addSlide:function(a){var b=this.slidePrototype.cloneNode(false);b.setAttribute("data-index",a);b.setAttribute("aria-hidden","true");this.slidesContainer[0].appendChild(b);this.slides.push(b)},positionSlide:function(a){var b=this.slides[a];b.style.width=this.slideWidth+"px";if(this.support.transform){b.style.left=a*-this.slideWidth+"px";this.move(a,this.index>a?-this.slideWidth:this.index<a?this.slideWidth:0,0)}},initSlides:function(a){var f,b;if(!a){this.positions=[];this.positions.length=this.num;this.elements={};this.picturePrototype=this.support.picture&&document.createElement("picture");this.sourcePrototype=this.support.source&&document.createElement("source");this.imagePrototype=document.createElement("img");this.elementPrototype=document.createElement("div");this.slidePrototype=this.elementPrototype.cloneNode(false);d(this.slidePrototype).addClass(this.options.slideClass);this.slides=this.slidesContainer[0].children;f=this.options.clearSlides||this.slides.length!==this.num}this.slideWidth=this.container[0].clientWidth;this.slideHeight=this.container[0].clientHeight;this.slidesContainer[0].style.width=this.num*this.slideWidth+"px";if(f){this.resetSlides()}for(b=0;b<this.num;b+=1){if(f){this.addSlide(b)}this.positionSlide(b)}if(this.options.continuous&&this.support.transform){this.move(this.circle(this.index-1),-this.slideWidth,0);this.move(this.circle(this.index+1),this.slideWidth,0)}if(!this.support.transform){this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px"}},unloadSlide:function(b){var f,a;f=this.slides[b];a=f.firstChild;if(a!==null){f.removeChild(a)}},unloadAllSlides:function(){var a,b;for(a=0,b=this.slides.length;a<b;a++){this.unloadSlide(a)}},toggleControls:function(){var a=this.options.controlsClass;if(this.container.hasClass(a)){this.container.removeClass(a)}else{this.container.addClass(a)}},toggleSlideshow:function(){if(!this.interval){this.play()}else{this.pause()}},getNodeIndex:function(a){return parseInt(a.getAttribute("data-index"),10)},getNestedProperty:function(a,b){b.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(l,n,m,p,o){var k=o||n||m||(p&&parseInt(p,10));if(l&&a){a=a[k]}});return a},getDataProperty:function(h,i){var j;var a;if(h.dataset){j=i.replace(/-([a-z])/g,function(e,f){return f.toUpperCase()});a=h.dataset[j]}else{if(h.getAttribute){a=h.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase())}}if(typeof a==="string"){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(a)){try{return d.parseJSON(a)}catch(b){}}return a}},getItemProperty:function(b,f){var a=this.getDataProperty(b,f);if(a===undefined){a=b[f]}if(a===undefined){a=this.getNestedProperty(b,f)}return a},initStartIndex:function(){var f=this.options.index;var a=this.options.urlProperty;var b;if(f&&typeof f!=="number"){for(b=0;b<this.num;b+=1){if(this.list[b]===f||this.getItemProperty(this.list[b],a)===this.getItemProperty(f,a)){f=b;break}}}this.index=this.circle(parseInt(f,10)||0)},initEventListeners:function(){var f=this;var b=this.slidesContainer;function a(e){var h=f.support.transition&&f.support.transition.end===e.type?"transitionend":e.type;f["on"+h](e)}d(window).on("resize",a);d(window).on("hashchange",a);d(document.body).on("keydown",a);this.container.on("click",a);if(this.support.touch){b.on("touchstart touchmove touchend touchcancel",a)}else{if(this.options.emulateTouchEvents&&this.support.transition){b.on("mousedown mousemove mouseup mouseout",a)}}if(this.support.transition){b.on(this.support.transition.end,a)}this.proxyListener=a},destroyEventListeners:function(){var b=this.slidesContainer;var a=this.proxyListener;d(window).off("resize",a);d(document.body).off("keydown",a);this.container.off("click",a);if(this.support.touch){b.off("touchstart touchmove touchend touchcancel",a)}else{if(this.options.emulateTouchEvents&&this.support.transition){b.off("mousedown mousemove mouseup mouseout",a)}}if(this.support.transition){b.off(this.support.transition.end,a)}},handleOpen:function(){if(this.options.onopened){this.options.onopened.call(this)}},initWidget:function(){var a=this;function b(f){if(f.target===a.container[0]){a.container.off(a.support.transition.end,b);a.handleOpen()}}this.container=d(this.options.container);if(!this.container.length){this.console.log("blueimp Gallery: Widget container not found.",this.options.container);return false}this.slidesContainer=this.container.find(this.options.slidesContainer).first();if(!this.slidesContainer.length){this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer);return false}this.titleElement=this.container.find(this.options.titleElement).first();this.playPauseElement=this.container.find("."+this.options.playPauseClass).first();if(this.num===1){this.container.addClass(this.options.singleClass)}if(this.support.svgasimg){this.container.addClass(this.options.svgasimgClass)}if(this.support.smil){this.container.addClass(this.options.smilClass)}if(this.options.onopen){this.options.onopen.call(this)}if(this.support.transition&&this.options.displayTransition){this.container.on(this.support.transition.end,b)}else{this.handleOpen()}if(this.options.hidePageScrollbars){this.bodyOverflowStyle=document.body.style.overflow;document.body.style.overflow="hidden"}this.container[0].style.display="block";this.initSlides();this.container.addClass(this.options.displayClass)},initOptions:function(a){this.options=d.extend({},this.options);if((a&&a.carousel)||(this.options.carousel&&(!a||a.carousel!==false))){d.extend(this.options,this.carouselOptions)}d.extend(this.options,a);if(this.num<3){this.options.continuous=this.options.continuous?null:false}if(!this.support.transition){this.options.emulateTouchEvents=false}if(this.options.event){this.preventDefault(this.options.event)}}});return c});