(function(a){if(typeof define==="function"&&define.amd){define(["./blueimp-helper"],a)}else{window.blueimp=window.blueimp||{};window.blueimp.Gallery=a(window.blueimp.helper||window.jQuery)}})(function(a){function b(d,c){if(document.body.style.maxHeight===undefined){return null}if(!this||this.options!==b.prototype.options){return new b(d,c)}if(!d||!d.length){this.console.log("blueimp Gallery: No or empty list provided as first argument.",d);return}this.list=d;this.num=d.length;this.initOptions(c);this.initialize()}a.extend(b.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",svgasimgClass:"blueimp-gallery-svgasimg",smilClass:"blueimp-gallery-smil",slideClass:"slide",slideActiveClass:"slide-active",slidePrevClass:"slide-prev",slideNextClass:"slide-next",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",altTextProperty:"alt",urlProperty:"href",srcsetProperty:"srcset",sizesProperty:"sizes",sourcesProperty:"sources",displayTransition:true,clearSlides:true,toggleControlsOnEnter:true,toggleControlsOnSlideClick:true,toggleSlideshowOnSpace:true,enableKeyboardNavigation:true,closeOnEscape:true,closeOnSlideClick:true,closeOnSwipeUpOrDown:true,closeOnHashChange:true,emulateTouchEvents:true,stopTouchEventsPropagation:false,hidePageScrollbars:true,disableScroll:true,carousel:false,continuous:true,unloadElements:true,startSlideshow:false,slideshowInterval:5000,slideshowDirection:"ltr",index:0,preloadRange:2,transitionDuration:300,slideshowTransitionDuration:500,event:undefined,onopen:undefined,onopened:undefined,onslide:undefined,onslideend:undefined,onslidecomplete:undefined,onclose:undefined,onclosed:undefined},carouselOptions:{hidePageScrollbars:false,toggleControlsOnEnter:false,toggleSlideshowOnSpace:false,enableKeyboardNavigation:false,closeOnEscape:false,closeOnSlideClick:false,closeOnSwipeUpOrDown:false,closeOnHashChange:false,disableScroll:false,startSlideshow:true},console:window.console&&typeof window.console.log==="function"?window.console:{log:function(){}},support:(function(c){var d={source:!!window.HTMLSourceElement,picture:!!window.HTMLPictureElement,svgasimg:document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),smil:!!document.createElementNS&&/SVGAnimate/.test(document.createElementNS("http://www.w3.org/2000/svg","animate").toString()),touch:window.ontouchstart!==undefined||(window.DocumentTouch&&document instanceof DocumentTouch)};var f={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};var g;for(g in f){if(Object.prototype.hasOwnProperty.call(f,g)&&c.style[g]!==undefined){d.transition=f[g];d.transition.name=g;break}}function e(){var i=d.transition;var j;var h;document.body.appendChild(c);if(i){j=i.name.slice(0,-9)+"ransform";if(c.style[j]!==undefined){c.style[j]="translateZ(0)";h=window.getComputedStyle(c).getPropertyValue(i.prefix+"transform");d.transform={prefix:i.prefix,name:j,translate:true,translateZ:!!h&&h!=="none"}}}document.body.removeChild(c)}if(document.body){e()}else{a(document).on("DOMContentLoaded",e)}return d})(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame,initialize:function(){this.initStartIndex();if(this.initWidget()===false){return false}this.initEventListeners();this.onslide(this.index);this.ontransitionend();if(this.options.startSlideshow){this.play()}},slide:function(h,f){window.clearTimeout(this.timeout);var c=this.index;var e;var g;var d;if(c===h||this.num===1){return}if(!f){f=this.options.transitionDuration}if(this.support.transform){if(!this.options.continuous){h=this.circle(h)}e=Math.abs(c-h)/(c-h);if(this.options.continuous){g=e;e=-this.positions[this.circle(h)]/this.slideWidth;if(e!==g){h=-e*this.num+h}}d=Math.abs(c-h)-1;while(d){d-=1;this.move(this.circle((h>c?h:c)-d-1),this.slideWidth*e,0)}h=this.circle(h);this.move(c,this.slideWidth*e,f);this.move(h,0,f);if(this.options.continuous){this.move(this.circle(h-e),-(this.slideWidth*e),0)}}else{h=this.circle(h);this.animate(c*-this.slideWidth,h*-this.slideWidth,f)}this.onslide(h)},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){if(this.options.continuous||this.index){this.slide(this.index-1)}},next:function(){if(this.options.continuous||this.index<this.num-1){this.slide(this.index+1)}},play:function(e){var d=this;var c=this.index+(this.options.slideshowDirection==="rtl"?-1:1);window.clearTimeout(this.timeout);this.interval=e||this.options.slideshowInterval;if(this.elements[this.index]>1){this.timeout=this.setTimeout((!this.requestAnimationFrame&&this.slide)||function(g,f){d.animationFrameId=d.requestAnimationFrame.call(window,function(){d.slide(g,f)})},[c,this.options.slideshowTransitionDuration],this.interval)}this.container.addClass(this.options.playingClass);this.slidesContainer[0].setAttribute("aria-live","off");if(this.playPauseElement.length){this.playPauseElement[0].setAttribute("aria-pressed","true")}},pause:function(){window.clearTimeout(this.timeout);this.interval=null;if(this.cancelAnimationFrame){this.cancelAnimationFrame.call(window,this.animationFrameId);this.animationFrameId=null}this.container.removeClass(this.options.playingClass);this.slidesContainer[0].setAttribute("aria-live","polite");if(this.playPauseElement.length){this.playPauseElement[0].setAttribute("aria-pressed","false")}},add:function(d){var c;if(!d.concat){d=Array.prototype.slice.call(d)}if(!this.list.concat){this.list=Array.prototype.slice.call(this.list)}this.list=this.list.concat(d);this.num=this.list.length;if(this.num>2&&this.options.continuous===null){this.options.continuous=true;this.container.removeClass(this.options.leftEdgeClass)}this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass);for(c=this.num-d.length;c<this.num;c+=1){this.addSlide(c);this.positionSlide(c)}this.positions.length=this.num;this.initSlides(true)},resetSlides:function(){this.slidesContainer.empty();this.unloadAllSlides();this.slides=[]},handleClose:function(){var c=this.options;this.destroyEventListeners();this.pause();this.container[0].style.display="none";this.container.removeClass(c.displayClass).removeClass(c.singleClass).removeClass(c.leftEdgeClass).removeClass(c.rightEdgeClass);if(c.hidePageScrollbars){document.body.style.overflow=this.bodyOverflowStyle}if(this.options.clearSlides){this.resetSlides()}if(this.options.onclosed){this.options.onclosed.call(this)}},close:function(){var d=this;function c(e){if(e.target===d.container[0]){d.container.off(d.support.transition.end,c);d.handleClose()}}if(this.options.onclose){this.options.onclose.call(this)}if(this.support.transition&&this.options.displayTransition){this.container.on(this.support.transition.end,c);this.container.removeClass(this.options.displayClass)}else{this.handleClose()}},circle:function(c){return(this.num+(c%this.num))%this.num},move:function(c,e,d){this.translateX(c,e,d);this.positions[c]=e},translate:function(e,c,i,g){if(!this.slides[e]){return}var f=this.slides[e].style;var h=this.support.transition;var d=this.support.transform;f[h.name+"Duration"]=g+"ms";f[d.name]="translate("+c+"px, "+i+"px)"+(d.translateZ?" translateZ(0)":"")},translateX:function(d,c,e){this.translate(d,c,0,e)},translateY:function(c,e,d){this.translate(c,0,e,d)},animate:function(h,g,d){if(!d){this.slidesContainer[0].style.left=g+"px";return}var c=this;var f=new Date().getTime();var e=window.setInterval(function(){var i=new Date().getTime()-f;if(i>d){c.slidesContainer[0].style.left=g+"px";c.ontransitionend();window.clearInterval(e);return}c.slidesContainer[0].style.left=(g-h)*(Math.floor((i/d)*100)/100)+h+"px"},4)},preventDefault:function(c){if(c.preventDefault){c.preventDefault()}else{c.returnValue=false}},stopPropagation:function(c){if(c.stopPropagation){c.stopPropagation()}else{c.cancelBubble=true}},onresize:function(){this.initSlides(true)},onhashchange:function(){if(this.options.closeOnHashChange){this.close()}},onmousedown:function(c){if(c.which&&c.which===1&&c.target.nodeName!=="VIDEO"&&c.target.nodeName!=="AUDIO"){c.preventDefault();(c.originalEvent||c).touches=[{pageX:c.pageX,pageY:c.pageY}];this.ontouchstart(c)}},onmousemove:function(c){if(this.touchStart){(c.originalEvent||c).touches=[{pageX:c.pageX,pageY:c.pageY}];this.ontouchmove(c)}},onmouseup:function(c){if(this.touchStart){this.ontouchend(c);delete this.touchStart}},onmouseout:function(c){if(this.touchStart){var e=c.target;var d=c.relatedTarget;if(!d||(d!==e&&!a.contains(e,d))){this.onmouseup(c)}}},ontouchstart:function(c){if(this.options.stopTouchEventsPropagation){this.stopPropagation(c)}var d=(c.originalEvent||c).touches[0];this.touchStart={x:d.pageX,y:d.pageY,time:Date.now()};this.isScrolling=undefined;this.touchDelta={}},ontouchmove:function(e){if(this.options.stopTouchEventsPropagation){this.stopPropagation(e)}var f=(e.originalEvent||e).touches;var i=f[0];var h=(e.originalEvent||e).scale;var d=this.index;var c;var g;if(f.length>1||(h&&h!==1)){return}if(this.options.disableScroll){e.preventDefault()}this.touchDelta={x:i.pageX-this.touchStart.x,y:i.pageY-this.touchStart.y};c=this.touchDelta.x;if(this.isScrolling===undefined){this.isScrolling=this.isScrolling||Math.abs(c)<Math.abs(this.touchDelta.y)}if(!this.isScrolling){e.preventDefault();window.clearTimeout(this.timeout);if(this.options.continuous){g=[this.circle(d+1),d,this.circle(d-1)]}else{this.touchDelta.x=c=c/((!d&&c>0)||(d===this.num-1&&c<0)?Math.abs(c)/this.slideWidth+1:1);g=[d];if(d){g.push(d-1)}if(d<this.num-1){g.unshift(d+1)}}while(g.length){d=g.pop();this.translateX(d,c+this.positions[d],0)}}else{if(!this.options.carousel){this.translateY(d,this.touchDelta.y+this.positions[d],0)}}},ontouchend:function(c){if(this.options.stopTouchEventsPropagation){this.stopPropagation(c)}var i=this.index;var k=Math.abs(this.touchDelta.x);var e=this.slideWidth;var f=Math.ceil((this.options.transitionDuration*(1-k/e))/2);var h=k>20;var d=(!i&&this.touchDelta.x>0)||(i===this.num-1&&this.touchDelta.x<0);var o=!h&&this.options.closeOnSwipeUpOrDown&&Math.abs(this.touchDelta.y)>20;var l;var g;var n;var j;var m;if(this.options.continuous){d=false}l=this.touchDelta.x<0?-1:1;if(!this.isScrolling){if(h&&!d){g=i+l;n=i-l;j=e*l;m=-e*l;if(this.options.continuous){this.move(this.circle(g),j,0);this.move(this.circle(i-2*l),m,0)}else{if(g>=0&&g<this.num){this.move(g,j,0)}}this.move(i,this.positions[i]+j,f);this.move(this.circle(n),this.positions[this.circle(n)]+j,f);i=this.circle(n);this.onslide(i)}else{if(this.options.continuous){this.move(this.circle(i-1),-e,f);this.move(i,0,f);this.move(this.circle(i+1),e,f)}else{if(i){this.move(i-1,-e,f)}this.move(i,0,f);if(i<this.num-1){this.move(i+1,e,f)}}}}else{if(o){this.close()}else{this.translateY(i,0,f)}}},ontouchcancel:function(c){if(this.touchStart){this.ontouchend(c);delete this.touchStart}},ontransitionend:function(d){var c=this.slides[this.index];if(!d||c===d.target){if(this.interval){this.play()}this.setTimeout(this.options.onslideend,[this.index,c])}},oncomplete:function(e){var f=e.target||e.srcElement;var d=f&&f.parentNode;var c;if(!f||!d){return}c=this.getNodeIndex(d);a(d).removeClass(this.options.slideLoadingClass);if(e.type==="error"){a(d).addClass(this.options.slideErrorClass);this.elements[c]=3}else{this.elements[c]=2}if(f.clientHeight>this.container[0].clientHeight){f.style.maxHeight=this.container[0].clientHeight}if(this.interval&&this.slides[this.index]===d){this.play()}this.setTimeout(this.options.onslidecomplete,[c,d])},onload:function(c){this.oncomplete(c)},onerror:function(c){this.oncomplete(c)},onkeydown:function(c){switch(c.which||c.keyCode){case 13:if(this.options.toggleControlsOnEnter){this.preventDefault(c);this.toggleControls()}break;case 27:if(this.options.closeOnEscape){this.close();c.stopImmediatePropagation()}break;case 32:if(this.options.toggleSlideshowOnSpace){this.preventDefault(c);this.toggleSlideshow()}break;case 37:if(this.options.enableKeyboardNavigation){this.preventDefault(c);this.prev()}break;case 39:if(this.options.enableKeyboardNavigation){this.preventDefault(c);this.next()}break}},handleClick:function(f){var c=this.options;var g=f.target||f.srcElement;var e=g.parentNode;function d(h){return a(g).hasClass(h)||a(e).hasClass(h)}if(d(c.toggleClass)){this.preventDefault(f);this.toggleControls()}else{if(d(c.prevClass)){this.preventDefault(f);this.prev()}else{if(d(c.nextClass)){this.preventDefault(f);this.next()}else{if(d(c.closeClass)){this.preventDefault(f);this.close()}else{if(d(c.playPauseClass)){this.preventDefault(f);this.toggleSlideshow()}else{if(e===this.slidesContainer[0]){if(c.closeOnSlideClick){this.preventDefault(f);this.close()}else{if(c.toggleControlsOnSlideClick){this.preventDefault(f);this.toggleControls()}}}else{if(e.parentNode&&e.parentNode===this.slidesContainer[0]){if(c.toggleControlsOnSlideClick){this.preventDefault(f);this.toggleControls()}}}}}}}}},onclick:function(c){if(this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)){delete this.touchDelta;return}return this.handleClick(c)},updateEdgeClasses:function(c){if(!c){this.container.addClass(this.options.leftEdgeClass)}else{this.container.removeClass(this.options.leftEdgeClass)}if(c===this.num-1){this.container.addClass(this.options.rightEdgeClass)}else{this.container.removeClass(this.options.rightEdgeClass)}},updateActiveSlide:function(i,e){var f=this.slides;var d=this.options;var h=[{index:e,method:"addClass",hidden:false},{index:i,method:"removeClass",hidden:true}];var g,c;while(h.length){g=h.pop();a(f[g.index])[g.method](d.slideActiveClass);c=this.circle(g.index-1);if(d.continuous||c<g.index){a(f[c])[g.method](d.slidePrevClass)}c=this.circle(g.index+1);if(d.continuous||c>g.index){a(f[c])[g.method](d.slideNextClass)}}this.slides[i].setAttribute("aria-hidden","true");this.slides[e].removeAttribute("aria-hidden")},handleSlide:function(d,c){if(!this.options.continuous){this.updateEdgeClasses(c)}this.updateActiveSlide(d,c);this.loadElements(c);if(this.options.unloadElements){this.unloadElements(d,c)}this.setTitle(c)},onslide:function(c){this.handleSlide(this.index,c);this.index=c;this.setTimeout(this.options.onslide,[c,this.slides[c]])},setTitle:function(c){var e=this.slides[c].firstChild;var f=e.title||e.alt;var d=this.titleElement;if(d.length){this.titleElement.empty();if(f){d[0].appendChild(document.createTextNode(f))}}},setTimeout:function(e,c,f){var d=this;return(e&&window.setTimeout(function(){e.apply(d,c||[])},f||0))},imageFactory:function(h,p){var r=this.options;var l=this;var d=h;var k=this.imagePrototype.cloneNode(false);var j;var n;var c;var f;var q;var m;var o;var g;function e(i){if(!n){i={type:i.type,target:j||k};if(!i.target.parentNode){return l.setTimeout(e,[i])}n=true;a(k).off("load error",e);p(i)}}if(typeof d!=="string"){d=this.getItemProperty(h,r.urlProperty);c=this.support.picture&&this.support.source&&this.getItemProperty(h,r.sourcesProperty);f=this.getItemProperty(h,r.srcsetProperty);q=this.getItemProperty(h,r.sizesProperty);m=this.getItemProperty(h,r.titleProperty);o=this.getItemProperty(h,r.altTextProperty)||m}k.draggable=false;if(m){k.title=m}if(o){k.alt=o}a(k).on("load error",e);if(c&&c.length){j=this.picturePrototype.cloneNode(false);for(g=0;g<c.length;g+=1){j.appendChild(a.extend(this.sourcePrototype.cloneNode(false),c[g]))}j.appendChild(k);a(j).addClass(r.toggleClass)}if(f){if(q){k.sizes=q}k.srcset=f}k.src=d;if(j){return j}return k},createElement:function(f,g){var e=f&&this.getItemProperty(f,this.options.typeProperty);var c=(e&&this[e.split("/")[0]+"Factory"])||this.imageFactory;var d=f&&c.call(this,f,g);if(!d){d=this.elementPrototype.cloneNode(false);this.setTimeout(g,[{type:"error",target:d}])}a(d).addClass(this.options.slideContentClass);return d},iteratePreloadRange:function(g,k){var f=this.num;var e=this.options;var c=Math.min(f,e.preloadRange*2+1);var d=g;var h;for(h=0;h<c;h+=1){d+=h*(h%2===0?-1:1);if(d<0||d>=f){if(!e.continuous){continue}d=this.circle(d)}k.call(this,d)}},loadElement:function(c){if(!this.elements[c]){if(this.slides[c].firstChild){this.elements[c]=a(this.slides[c]).hasClass(this.options.slideErrorClass)?3:2}else{this.elements[c]=1;a(this.slides[c]).addClass(this.options.slideLoadingClass);this.slides[c].appendChild(this.createElement(this.list[c],this.proxyListener))}}},loadElements:function(c){this.iteratePreloadRange(c,this.loadElement)},unloadElements:function(e,d){var c=this.options.preloadRange;this.iteratePreloadRange(e,function(f){var g=Math.abs(f-d);if(g>c&&g+c<this.num){this.unloadSlide(f);delete this.elements[f]}})},addSlide:function(d){var c=this.slidePrototype.cloneNode(false);c.setAttribute("data-index",d);c.setAttribute("aria-hidden","true");this.slidesContainer[0].appendChild(c);this.slides.push(c)},positionSlide:function(d){var c=this.slides[d];c.style.width=this.slideWidth+"px";if(this.support.transform){c.style.left=d*-this.slideWidth+"px";this.move(d,this.index>d?-this.slideWidth:this.index<d?this.slideWidth:0,0)}},initSlides:function(e){var c,d;if(!e){this.positions=[];this.positions.length=this.num;this.elements={};this.picturePrototype=this.support.picture&&document.createElement("picture");this.sourcePrototype=this.support.source&&document.createElement("source");this.imagePrototype=document.createElement("img");this.elementPrototype=document.createElement("div");this.slidePrototype=this.elementPrototype.cloneNode(false);a(this.slidePrototype).addClass(this.options.slideClass);this.slides=this.slidesContainer[0].children;c=this.options.clearSlides||this.slides.length!==this.num}this.slideWidth=this.container[0].clientWidth;this.slideHeight=this.container[0].clientHeight;this.slidesContainer[0].style.width=this.num*this.slideWidth+"px";if(c){this.resetSlides()}for(d=0;d<this.num;d+=1){if(c){this.addSlide(d)}this.positionSlide(d)}if(this.options.continuous&&this.support.transform){this.move(this.circle(this.index-1),-this.slideWidth,0);this.move(this.circle(this.index+1),this.slideWidth,0)}if(!this.support.transform){this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px"}},unloadSlide:function(d){var c,e;c=this.slides[d];e=c.firstChild;if(e!==null){c.removeChild(e)}},unloadAllSlides:function(){var d,c;for(d=0,c=this.slides.length;d<c;d++){this.unloadSlide(d)}},toggleControls:function(){var c=this.options.controlsClass;if(this.container.hasClass(c)){this.container.removeClass(c)}else{this.container.addClass(c)}},toggleSlideshow:function(){if(!this.interval){this.play()}else{this.pause()}},getNodeIndex:function(c){return parseInt(c.getAttribute("data-index"),10)},getNestedProperty:function(d,c){c.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(i,g,h,e,f){var j=f||g||h||(e&&parseInt(e,10));if(i&&d){d=d[j]}});return d},getDataProperty:function(e,d){var c;var g;if(e.dataset){c=d.replace(/-([a-z])/g,function(i,h){return h.toUpperCase()});g=e.dataset[c]}else{if(e.getAttribute){g=e.getAttribute("data-"+d.replace(/([A-Z])/g,"-$1").toLowerCase())}}if(typeof g==="string"){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(g)){try{return a.parseJSON(g)}catch(f){}}return g}},getItemProperty:function(d,c){var e=this.getDataProperty(d,c);if(e===undefined){e=d[c]}if(e===undefined){e=this.getNestedProperty(d,c)}return e},initStartIndex:function(){var c=this.options.index;var e=this.options.urlProperty;var d;if(c&&typeof c!=="number"){for(d=0;d<this.num;d+=1){if(this.list[d]===c||this.getItemProperty(this.list[d],e)===this.getItemProperty(c,e)){c=d;break}}}this.index=this.circle(parseInt(c,10)||0)},initEventListeners:function(){var c=this;var d=this.slidesContainer;function e(g){var f=c.support.transition&&c.support.transition.end===g.type?"transitionend":g.type;c["on"+f](g)}a(window).on("resize",e);a(window).on("hashchange",e);a(document.body).on("keydown",e);this.container.on("click",e);if(this.support.touch){d.on("touchstart touchmove touchend touchcancel",e)}else{if(this.options.emulateTouchEvents&&this.support.transition){d.on("mousedown mousemove mouseup mouseout",e)}}if(this.support.transition){d.on(this.support.transition.end,e)}this.proxyListener=e},destroyEventListeners:function(){var c=this.slidesContainer;var d=this.proxyListener;a(window).off("resize",d);a(document.body).off("keydown",d);this.container.off("click",d);if(this.support.touch){c.off("touchstart touchmove touchend touchcancel",d)}else{if(this.options.emulateTouchEvents&&this.support.transition){c.off("mousedown mousemove mouseup mouseout",d)}}if(this.support.transition){c.off(this.support.transition.end,d)}},handleOpen:function(){if(this.options.onopened){this.options.onopened.call(this)}},initWidget:function(){var d=this;function c(e){if(e.target===d.container[0]){d.container.off(d.support.transition.end,c);d.handleOpen()}}this.container=a(this.options.container);if(!this.container.length){this.console.log("blueimp Gallery: Widget container not found.",this.options.container);return false}this.slidesContainer=this.container.find(this.options.slidesContainer).first();if(!this.slidesContainer.length){this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer);return false}this.titleElement=this.container.find(this.options.titleElement).first();this.playPauseElement=this.container.find("."+this.options.playPauseClass).first();if(this.num===1){this.container.addClass(this.options.singleClass)}if(this.support.svgasimg){this.container.addClass(this.options.svgasimgClass)}if(this.support.smil){this.container.addClass(this.options.smilClass)}if(this.options.onopen){this.options.onopen.call(this)}if(this.support.transition&&this.options.displayTransition){this.container.on(this.support.transition.end,c)}else{this.handleOpen()}if(this.options.hidePageScrollbars){this.bodyOverflowStyle=document.body.style.overflow;document.body.style.overflow="hidden"}this.container[0].style.display="block";this.initSlides();this.container.addClass(this.options.displayClass)},initOptions:function(c){this.options=a.extend({},this.options);if((c&&c.carousel)||(this.options.carousel&&(!c||c.carousel!==false))){a.extend(this.options,this.carouselOptions)}a.extend(this.options,c);if(this.num<3){this.options.continuous=this.options.continuous?null:false}if(!this.support.transition){this.options.emulateTouchEvents=false}if(this.options.event){this.preventDefault(this.options.event)}}});return b});